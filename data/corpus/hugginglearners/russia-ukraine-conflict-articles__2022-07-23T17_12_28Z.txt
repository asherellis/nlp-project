Barely 12 hours after Moscow signed a deal with Ukraine to allow monitored grain exports from Ukraine’s southern ports, Russia targeted Ukraine’s main port of Odesa – through which grain shipments would take place – with cruise missile strikes.

“The enemy attacked the Odesa sea trade port with Kalibr cruise missiles,” Ukraine’s operational command south wrote on Telegram, raising doubts about the viability of the deal that was intended to release 20m tonnes of grain to ward off famine in large parts of the developing world.

Russia’s defence ministry did not immediately confirm responsibility for the attack.

Eyewitness footage posted on social media, taken in the port area, showed one of the missiles exploding close to the seafront behind rows of containers and not far from a docked ship.

The British foreign secretary, Liz Truss, said the “appalling” attack hours after the deal was signed was “completely unwarranted” and proof that the Russian president, Vladimir Putin, could not be trusted.

The landmark deal signed by Moscow and Kyiv on Friday, which is aimed at easing a supply crunch by allowing certain exports to be shipped from Black Sea ports including Odesa, is seen as crucial to curbing soaring global food prices.

UN officials had said on Friday they hoped the agreement would be operational in a few weeks, restoring grain shipments from the three reopened ports to prewar levels of 5m tonnes a month, but it was not yet clear if that would still be possible, given Saturday’s strikes.

In one of the largest attacks on the city since the war began, explosions rattled buildings in the centre and sent up a plume of smoke that was visible across the city.

On Odesa’s seafront, beachgoers applauded as air defences brought down two of four missiles, with the remaining two hitting the port.

The attacks, coming so soon after the signing of the grain deal in Istanbul, drew immediate condemnation.

“Outrageous,” tweeted the US ambassador to Kyiv, Bridget Brink. “Russia strikes the port city of Odesa less than 24 hours after signing an agreement to allow shipments of agricultural exports. The Kremlin continues to weaponise food. Russia must be held to account.”

According to a spokesperson, the UN secretary general, António Guterres, “unequivocally condemns” the strikes, adding that all parties in the Russia-Ukraine war had committed to a deal for the export of grains from Ukrainian ports.

Russia and Ukraine are important global wheat suppliers and the war has sent food prices soaring. A global food crisis has pushed 47 million people into “acute hunger”, according to the World Food Programme.

Friday’s deal seeks to avert famine in poorer countries by putting more wheat, sunflower oil, fertiliser and other products into world markets, including for humanitarian needs, partly at lower prices.

The attack was one of a series of Russian strikes across Ukraine, with the city of Kropyvnytskyi hit by 13 missiles on Saturday morning. The local governor, Andriy Raikovych, said at least one serviceman and two guards were killed, while 13 other people were wounded in Kropyvnytskyi.

Local people in the city said the strikes targeted an airbase on the outskirts, as well as a railway substation.

Strikes were also reported in Kharkiv, where a residential area was hit, killing at least three people, and in the southern city of Mykolaiv.

A man stands inside an apartment damaged by a Russian military strike in Kharkiv on Saturday. Photograph: Reuters

The sudden rise in Russian missile attacks follows several days of relative quiet in Ukraine. In the southern Kherson region, which Russian troops seized early in the invasion, Ukrainian forces preparing for a potential counteroffensive fired rockets at crossings on the Dnieper River to try to disrupt supplies to the Russians, amid claims that Ukrainian troops near the city had surrounded a Russian formation.

The Ukrainian president, Volodymyr Zelenskiy, said in his nightly video address that the agreements offered “a chance to prevent a global catastrophe, a famine that could lead to political chaos in many countries of the world, in particular in the countries that help us”.

Despite progress on that front, fighting raged unabated in eastern Ukraine’s industrial heartland of Donbas, where Russian forces tried to make gains in the face of stiff Ukrainian resistance.

Russian troops have also faced Ukrainian counterattacks but largely held their ground in the Kherson region just north of the Crimean peninsula, which Russia annexed in 2014.

A blockade of Ukrainian ports by Russia’s Black Sea fleet since Moscow’s 24 February invasion has trapped tens of millions of tonnes of grain and stranded many ships.

Sign up to First Edition, our free daily newsletter – every weekday morning at 7am BST

Under the export plan signed on Friday, Ukrainian officials would guide ships through safe channels across mined waters to three ports, including Odesa, where they would be loaded with grain.

Moscow has denied responsibility for the crisis, blaming sanctions for slowing its own food and fertiliser exports and Ukraine for mining the approaches to its Black Sea ports.